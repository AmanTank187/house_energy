<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Energy</title>
</head>

<body>

    <h1>Search Address</h1>

    <form>
        <label for="address">Address:</label><br>
        <input type="text" id="address" name="address" value="Address"><br>
        <input type="submit" value="Submit">
    </form>

    <div class="house-container">
        <div id="house-feed"></div>
          
      </div>

</body>

<script> 

    fetch(`https://epc.opendatacommunities.org/api/v1/domestic/search?address=Cottesbrooke close`, {
    method: 'GET',
    headers: {
      'Accept': 'application/json',
      'Authorization': 'Basic YW1hbnRhbmsxODdAZ21haWwuY29tOjA4YjY1OTlmNzc1NzYwMDdmZjA0NmIwNTJiYzFiOTYwYWExMDFiZmM=',
    },
  })
  .then(response => response.json())
  .then(data => {
    const houseData = data.rows;
    var mainContainer = document.getElementById("house-feed");
    houseData.forEach(function(obj) { 
        var div = document.createElement("div");
        div.innerHTML = `${obj.address}`;
        mainContainer.appendChild(div);
    });
  });
 


</script>
    
</html>